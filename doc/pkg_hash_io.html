<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/transitional.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="description" CONTENT="SparForte language documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SparForte - Packages - Hash I/O</title>
	<link rel="StyleSheet" type="text/css" media="screen" href="art/sparforte.css">
	<link rel="index" href="packages.html" />
	<link rel="prev" href="pkg_gnat_crc32.html" />
	<link rel="next" href="pkg_lock_files.html" />
</head>
<body bgcolor="#FFFFFF"><a name="top"></a>
	<table width="100%" cellspacing="0" cellpadding="0" summary="page layout">
		<tr><td align="left"><img src="art/sparforte.png" alt="[SparForte]"></td><td align="right"><img src="art/header_cloud.png" alt="[Banner]"></td></tr>
		<tr><td background="art/header_border.png" height="10" colspan="2"></td></tr>
		<tr><td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="0" summary="top menu">
			<tr>
				<td width="10"><img src="art/menu_left.png" alt="[Top Main Menu]"></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="intro_preface.html">Intro</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="tutorial_1.html">Tutorials</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="ref_adascript.html">Reference</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="packages.html"><b>Packages</b></a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="../examples/index.html">Examples</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="cont_vision.html">Contributors</a></td>
				<td background="art/menu_border.png" align="center">&nbsp;</td>
				<td background="art/menu_border.png" align="right"><a href="pkg_gnat_crc32.html"><img src="art/left_arrow.png" width="27" height="24" alt="[Back Page]" border="0"></a><span class="menutext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="pkg_hmaps.html"><img src="art/right_arrow.png" width="27" height="24" alt="[Next Page]" border="0"></a></td>
				<td background="art/menu_border.png">&nbsp;</td>
</tr></table></td></tr>
	</table>
	<noscript>
	<a href="#submenu">[Jump to Submenu]</a>
	<hr />
	</noscript>
	<table width="100%" border="0" cellspacing="0" cellpadding="0" summary="content and right submenu">
		<tr>
			<td align="left" valign="top">
	<!-- Content Area -->
<h2><a NAME="4.14"></a>Hash_Io Package</h2>

<p>The SparForte built-in hash_io package contains subprograms
to create hash table files.  btree_io is better for most
applications.  hash_io should perform better on low-memory systems
with very large amount of data.  Data in a hash_io file is
ordered randomly.</p>

<p><u>Introduced</u>: SparForte 2.0<br>

<p><u>GCC Ada Equivalent</u>: none<br>

        <center>
        <div class="code">
<pre>
  <a href="#hash_io.add">add( f, k, v )</a>                   <a href="#hash_io.get_previous">get_previous( f, c, k, v )</a>
  <a href="#hash_io.append">append( f, k, v )</a>                <a href="#hash_io.has_element">b := has_element( f, k )</a>
  <a href="#hash_io.clear">clear( f )</a>                       <a href="#hash_io.increment">increment( f, k [,n] )</a>
  <a href="#hash_io.close">close( f )</a>                       <a href="#hash_io.is_open">b := is_open( f )</a>
  <a href="#hash_io.close_cursor">close_cursor( f, c )</a>             <a href="#hash_io.last_error">e := last_error( f )</a>
  <a href="#hash_io.create">create( f, p, kl, vl )</a>           <a href="#hash_io.open">open( f, p, kl, vl )</a>
  <a href="#hash_io.decrement">decrement( f, k [,n] )</a>           <a href="#hash_io.open_cursor">open_cursor( f, c )</a>
  <a href="#hash_io.delete">delete( f )</a>                      <a href="#hash_io.prepend">prepend( f, k, v )</a>
  <a href="#hash_io.flush">flush( f )</a>                       <a href="#hash_io.raise_exceptions">raise_exceptions( f, b )</a>
  <a href="#hash_io.get">v := get( f, k )</a>                 <a href="#hash_io.remove">remove( f, k )</a>
  <a href="#hash_io.get_first">get_first( f, c, k, v )</a>          <a href="#hash_io.replace">replace( f, k, v )</a>
  <a href="#hash_io.get_last">get_last( f, c, k, v )</a>           <a href="#hash_io.set">set( f, k, v )</a>
  <a href="#hash_io.get_next">get_next( f, c, k, v )</a>           <a href="#hash_io.truncate">truncate( f )</a></a>
                                   <a href="#hash_io.will_raise">b := will_raise( f )</a>
</pre>
        &nbsp;<br>
        <div class="code_caption">
        <b>Help Command</b>: Contents of the hash_io package</span>
        </div>
        </div>
        </center>

<p>A B-tree file is a collection of data nodes stored to disk.  Each node
stores a value called an element.  Each value is referenced by a key.
Each file can only hold one kind of element (unless universal types are
used).</p>

<p>The programmer can traverse forward or
reverse through the file.  File positions are designated by cursors.</p>

<p>This package is implemented using the Berkeley database.  Creating a
file will also create several auxiliary files in the same directory.
The files in one directory will share the same Berkeley environment.</p>

<p>This package includes two generic types:</p>

<ul>
<li><b>hash_io.file( <i>type</i> ) </b> - a hash file</li>
<li><b>hash_io.cursor( <i>type</i> ) </b> - a hash file cursor</li>
</ul>

<p>bdb.db_error constants are also defined (e.g. bdb.DB_OK ), though
not all errors for all versions of Berkeley DB are defined and
operating system error codes (e.g. EINVAL, ENOENT) may also be
returned.</p>

<p>It is possible to open the file with the wrong (or a different) file
data type but this is not recommended.</p>

<a name="hash_io.add"></a><h3>hash_io.add( f, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Put value v under key k in the file.  If the key already exists, do nothing.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.add( fruit, "apples", 15 );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised for a deadlock<br>
An exception is raised if the files are read-only access<br>
An exception is raised if the B-Tree is too large</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.set">hash_io.set</a><br><a href="#hash_io.replace">hash_io.replace</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.append"></a><h3>hash_io.append( f, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Append string value v to the value under key k in the file.  If the key does not exist, do nothing.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.set( fruit_unit, "apples", "bushel" );<br>hash_io.append( fruit_unit, "apples", "s" );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the string to append</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised for a deadlock<br>
An exception is raised if the files are read-only access<br>
An exception is raised if the value type is not a string</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#dynamic_hash_tables.prepend">hash_io.prepend</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.clear"></a><h3>hash_io.clear( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Release memory allocated for f.  (This is automatically done when the
variable is destroyed.)</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.clear( fruit );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>-</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.create">hash_io.create</a><br>
<a href="#hash_io.increment">hash_io.open</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: DB-&gt;close<br>
PHP: dba_close</p></td>
</tr>
</table>

<a name="hash_io.close"></a><h3>hash_io.close( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Close the hash file f.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.close( fruit );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>-</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.create">hash_io.create</a><br>
<a href="#hash_io.increment">hash_io.open</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: DB-&gt;close<br>
PHP: dba_close</p></td>
</tr>
</table>

<a name="hash_io.close_cursor"></a><h3>hash_io.close_cursor( f, c )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Close the cursor c associated with file f.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.close( fruit );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>-</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.open_cursor">hash_io.open_cursor</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: DB-&gt;close<br>
PHP: dba_close</p></td>
</tr>
</table>

<a name="hash_io.create"></a><h3>hash_io.create( f, p, kl, vl )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Create a new B-tree file f named p.  Maximum key length is kl bytes and maximum value length is vl bytes.  If the database exists, it is overwritten.  If --verbose is used, BDB verbose error messages are enabled.  If the file name is an empty string, the B-tree will be stored in memory and any supporting files will be stored in the current directory.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.create( fruit, "fruit.hash", 80, 80 );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the pathname</span></td>
</tr><tr>
<td><span>kl</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the max key length</span></td>
</tr><tr>
<td><span>vl</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the max value length</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised for a database created in an incompatible version of BDB<br>
An exception is raised for a deadlock</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.increment">hash_io.open</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: db_env_create, DB_ENV-&gt;open, db_create, DB-&gt;open<br>
PHP: dba_open</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This maximum lengths are for allocating space to convert SparForte strings into the C strings used by Berkeley DB.</p></td>
</tr>
</tr>
</table>

<a name="hash_io.decrement"></a><h3>hash_io.decrement( f, k [,n] )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Reduce the numeric value under key k in the file by one (or n).  If the key does not exist, do nothing.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.decrement( fruit, "apples" );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>n</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>1</span></td>
<td><span>the amount to decrement</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised for a deadlock<br>
An exception is raised if the files are read-only access<br>
An exception is raised if the value type is not numeric</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.increment">hash_io.increment</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.delete"></a><h3>hash_io.delete( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Delete the file and associated files.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.delete( fruit );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.create">hash_io.create</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: db_remove<br>
PHP: ?</p></td>
</tr>
</table>

<a name="hash_io.flush"></a><h3>hash_io.flush( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Write all cached data to disk.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.flush( fruit );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>-</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: DB-&gt;sync<br>
PHP: ?</p></td>
</tr>
</table>

<a name="hash_io.get"></a><h3>hash_io.get( f, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Get the value under key k in the file.  An exception is raised if k does not exist.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.get( fruit, "apples", val );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>out</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the value</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised on out-of-memory<br>
An exception is raised for a deadlock<br>
An exception is raised if the key is not found</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: Gnat.Dynamic_Hash_Tables.Get<br>
C: DB-&gt;get<br>
PHP: dbm_fetch</p></td>
</tr>
</table>

<a name="hash_io.get_first"></a><h3>hash_io.get_first( f, c, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Iterate through the file.  Return the first value in the file.  The order is the alphabetical order of the keys.  An exception is thrown if the file is empty.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.get_first( fruit, cursor, first_key, first_value );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>c</span></td>
<td><span>in out</span></td>
<td><span>hash_io.cursor</span></td>
<td><span>required</span></td>
<td><span>the cursor</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>out</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the first key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>out</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the first value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.get_next">hash_io.get_next</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: bdb.get</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>The name reflects dynamic_hash_tables.</p></td>
</tr>
</table>

<a name="hash_io.get_last"></a><h3>hash_io.get_last( f, c, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Iterate through the file.  Return the last value in the file.  The order is the alphabetical order of the keys.  An exception is thrown if the file is empty.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.get_last( fruit, cursor, last_key, last_value );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>c</span></td>
<td><span>in out</span></td>
<td><span>hash_io.cursor</span></td>
<td><span>required</span></td>
<td><span>the cursor</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>out</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the last key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>out</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the last value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.get_prev">hash_io.get_prev</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: bdb.get</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>The name reflects dynamic_hash_tables.</p></td>
</tr>
</table>

<a name="hash_io.get_next"></a><h3>hash_io.get_next( f, c, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Iterate through the file.  Return the next value in the file.  The order is the alphabetical order of the keys.  An exception is thrown if the file is empty.  Iteration is started with get_first.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.get_next( fruit, cursor, next_key, next_value );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>c</span></td>
<td><span>in out</span></td>
<td><span>hash_io.cursor</span></td>
<td><span>required</span></td>
<td><span>the cursor</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>out</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the next key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>out</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the next value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.get_next">hash_io.get_next</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: bdb.get</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>The name reflects dynamic_hash_tables.</p></td>
</tr>
</table>

<a name="hash_io.get_previous"></a><h3>hash_io.get_previous( f, c, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Iterate through the file.  Return the previous value in the file.  The order is the alphabetical order of the keys.  An exception is thrown if the file is empty.  Iteration is started with get_last.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.get_previous( fruit, cursor, prev_key, prev_value );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>c</span></td>
<td><span>in out</span></td>
<td><span>hash_io.cursor</span></td>
<td><span>required</span></td>
<td><span>the cursor</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>out</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the previous key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>out</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the previous value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>?</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.get_next">hash_io.get_next</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: bdb.get</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>The name reflects dynamic_hash_tables.</p></td>
</tr>
</table>

<a name="hash_io.has_element"></a><h3>b := hash_io.has_element( f, k )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Determine if key k is in the file.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">if hash_io.has_element( fruit, "apples" ) then ...</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if there is an element</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>C: DB-&gt;exists</p></td>
</tr>
</table>

<a name="hash_io.increment"></a><h3>hash_io.increment( f, k [,n] )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Increase the numeric value under key k in the file by one (or n).  If the key does not exist, do nothing.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.increment( fruit, "apples" );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>n</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>1</span></td>
<td><span>the amount to increment</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised if out of memory<br>
An exception is raised if the value type is not numeric</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.decrement">hash_io.decrement</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.is_open"></a><h3>b := hash_io.is_open( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>True if file f has been openned.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">if hash_io.is_open( fruit ) then ...</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if the file is open</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>-</p></td>
</tr>
</table>

<a name="hash_io.last_error"></a><h3>e := hash_io.last_error( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the error code from the last Berkeley DB action.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">if hash_io.last_error /= hash_io.DB_OK then ...</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>e</span></td>
<td><span>return value</span></td>
<td><span>hash_io.db_error</span></td>
<td><span>required</span></td>
<td><span>the last error code</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>-</p></td>
</tr>
</table>

<a name="hash_io.new_cursor"></a><h3>hash_io.new_cursor( c, t )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Initialize a new cursor, assigning the type for the values in the file.  The type may be an array, record, scalar or a universal type.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.new_cursor( fruit, natural );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>c</span></td>
<td><span>in out</span></td>
<td><span>hash_io.cursor</span></td>
<td><span>required</span></td>
<td><span>the cursor</span></td>
</tr><tr>
<td><span>t</span></td>
<td><span>in</span></td>
<td><span><i>the value type</i></span></td>
<td><span>required</span></td>
<td><span>the type of values</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if out of memory</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>Allocates a resource for the list.</p></td>
</tr>
</table>

<a name="hash_io.new_file"></a><h3>hash_io.new_file( f, t )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Initialize a new file, assigning the type for the values in the file.  The type may be an array, record, scalar or a universal type.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.new_file( fruit, natural );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>t</span></td>
<td><span>in</span></td>
<td><span><i>the value type</i></span></td>
<td><span>required</span></td>
<td><span>the type of values</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if out of memory</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>Allocates a resource for the list.</p></td>
</tr>
</table>

<a name="hash_io.open"></a><h3>hash_io.open( f, p, kl, vl )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Open a new B-tree file f named p.  Maximum key length is kl bytes and maximum value length is vl bytes.  If no database exists, an exception is raised.  If --verbose is used, BDB verbose error messages are enabled.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.open( fruit, "fruit.hash", 80, 80 );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the pathname</span></td>
</tr><tr>
<td><span>kl</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the max key length</span></td>
</tr><tr>
<td><span>vl</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the max value length</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised for a database created in an incompatible version of BDB<br>
An exception is raised for a deadlock</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.create">hash_io.create</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: db_env_create, DB_ENV-&gt;open, DB-&gt;open<br>
PHP: dba_open</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This maximum lengths are for allocating space to convert SparForte strings into the C strings used by Berkeley DB.</p></td>
</tr>
</tr>
</table>

<a name="hash_io.open_cursor"></a><h3>hash_io.open_cursor( f, c )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Associate cursor c with file f and ready the cursor for use.</p> 
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.open_cursor( customer_file, position )</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>c</span></td>
<td><span>in out</span></td>
<td><span>hash_io.cursor</span></td>
<td><span>required</span></td>
<td><span>the cursor</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the element type does not match</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.close_cursor">hash_io.close_cursor</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr>
</table>

<a name="hash_io.prepend"></a><h3>hash_io.prepend( f, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Prepend string value v to the value under key k in the file.  If the key does not exist, do nothing.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.set( fruit_unit, "apples", "ushels" );<br>hash_io.prepend( fruit_unit, "apples", "b" );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the string to prepend</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised if out of memory<br>
An exception is raised if the value type is not a string</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.append">hash_io.append</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.raise_exceptions"></a><h3>hash_io.raise_exceptions( f, b )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Determine if Berkeley errors are raised as exceptions or if the programmer will check for errors with last_error as required.  The default is to raise exceptions.  If --trace is used, the location in the SparForte source code is included with the error message.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.raise_exceptions( fruit, true );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>in</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if errors will be raised</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised if out of memory</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.will_raise">hash_io.will_raise</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: ?</p></td>
</tr>
</table>

<a name="hash_io.remove"></a><h3>hash_io.remove( f, k )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Delete a key and the associated value from the file.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.remove( fruit, "bad apples" );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key to delete</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#dynamic_hash_tables.reset">dynamic_hash_tables.reset</a><br><a href="#dynamic_hash_tables.set">dynamic_hash_tables.set</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.replace"></a><h3>hash_io.replace( f, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Replace the value v under key k in the file.  If the key does not exist, do nothing.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.replace( fruit, "apples", 23 );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the new value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised if out of memory</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.set">hash_io.set</a><br><a href="#hash_io.add">hash_io.add</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Implementation Note</p></td>
<td><p>This is in accordance with memcached.</p></td>
</tr>
</table>

<a name="hash_io.set"></a><h3>hash_io.set( f, k, v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Assign the value v to the key k in the file.  If the key does not exist, create it.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.set( fruit, "apples", 21 );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr><tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the key</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span><i>file value type</i></span></td>
<td><span>required</span></td>
<td><span>the new value</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if the value is the wrong type<br>
An exception is raised if out of memory</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#hash_io.add">hash_io.add</a><br><a href="#hash_io.replace">hash_io.replace</a><br><a href="#hash_io.remove">hash_io.remove</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: DB-&gt;put</p></td>
</tr>
</table>

<a name="hash_io.truncate"></a><h3>hash_io.truncate( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Erase all data from the file.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">hash_io.truncate( fruit );</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Restrictions</p></td>
<td><p>Not allowed in a restricted shell</p>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: N/A (AdaScript extension)<br>
C: DB-&gt;truncate&gt;sync<br>
</p></td>
</tr>
</table>

<a name="hash_io.will_raise"></a><h3>b := hash_io.will_raise( f )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>True if Berkeley errors will be raised as exceptions.</p>
</tr><tr>
<td><p class="pkg_label">Example</td><td><span class="code">if hash_io.is_open( fruit ) then ...</span></p></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" NOSAVE border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if the file is open</span></td>
</tr><tr>
<td><span>f</span></td>
<td><span>in out</span></td>
<td><span>hash_io.file</span></td>
<td><span>required</span></td>
<td><span>the file</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>Ada: N/A (AdaScript extension)</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>-</p></td>
</tr>
</table>

&nbsp;<br>

			</td>
			<td bgcolor="#d3c7f8" width="150" align="right" valign="top"><noscript><hr /></noscript><img src="art/right_menu_top.png" width="150" height="24" alt="[Right Submenu]"><br><a name="submenu"></a>
                                <p class="rmt"><a class="rightmenutext" href="packages.html">&nbsp;Summary</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_arrays.html">&nbsp;arrays</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_btree_io.html">&nbsp;btree_io</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_calendar.html">&nbsp;calendar</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_cgi.html">&nbsp;cgi</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_chains.html">&nbsp;chains</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_cmdline.html">&nbsp;command_line</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_db.html">&nbsp;db/ postgresql</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dbm.html">&nbsp;dbm</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dirops.html">&nbsp;directory_operations</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_doubly.html">&nbsp;doubly_linked...</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dht.html">&nbsp;dynamic_hash_...</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_enums.html">&nbsp;enums</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_exceptions.html">&nbsp;exceptions</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_files.html">&nbsp;files</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_gnat_cgi.html">&nbsp;gnat.cgi</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_gnat_crc32.html">&nbsp;gnat.crc32</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_hash_io.html">&nbsp;<b>hash_io</b></a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_hmaps.html">&nbsp;hashed_maps</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_l10n.html">&nbsp;l10n</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_lock_files.html">&nbsp;lock_files</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_logs.html">&nbsp;logs</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_memcache.html">&nbsp;memcache</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_memcache_highread.html">&nbsp;memcache.highread</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_mysql.html">&nbsp;mysql</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_mysqlm.html">&nbsp;mysqlm</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_numerics.html">&nbsp;numerics</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_os.html">&nbsp;os</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_pen.html">&nbsp;pen</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_pengl.html">&nbsp;pen (OpenGL)</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_records.html">&nbsp;records</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_sound.html">&nbsp;sound</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_sinfo.html">&nbsp;source_info</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_stats.html">&nbsp;stats</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_strings.html">&nbsp;strings</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_system.html">&nbsp;System</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_teams.html">&nbsp;teams</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_templates.html">&nbsp;templates</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_text_io.html">&nbsp;text_io</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_units.html">&nbsp;units</a></p>
</a></p>

			</td>
		</tr>
		<tr>
			<td bgcolor="#d3c7f8" align="left" valign="middle"><a href="#top"><img src="art/up_arrow.png" border="0" width="24" height="27" alt="[Back to Top]"><span>&nbsp;Back To Top</span></a></td>
			<td bgcolor="#d3c7f8" align="center" valign="middle"><img src="art/forte_small.png" width="26" height="32" border="0" alt="[Small Forte Symbol]"></td>
	       	</tr>

	</table>

</body>
</html>

