<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/transitional.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="description" CONTENT="SparForte language documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SparForte - Packages - Cgi</title>
	<link rel="StyleSheet" type="text/css" media="screen" href="art/sparforte.css">
	<link rel="index" href="packages.html" />
	<link rel="prev" href="pkg_calendar.html" />
	<link rel="next" href="pkg_chains.html" />
</head>
<body bgcolor="#FFFFFF"><a name="top"></a>
	<table width="100%" cellspacing="0" cellpadding="0" summary="page layout">
		<tr><td align="left"><img src="art/sparforte.png" alt="[SparForte]"></td><td align="right"><img src="art/header_cloud.png" alt="[Banner]"></td></tr>
		<tr><td background="art/header_border.png" height="10" colspan="2"></td></tr>
		<tr><td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="0" summary="top menu">
			<tr>
				<td width="10"><img src="art/menu_left.png" alt="[Top Main Menu]"></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="intro_preface.html">Intro</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="tutorial_1.html">Tutorials</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="ref_adascript.html">Reference</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="packages.html"><b>Packages</b></a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="../examples/index.html">Examples</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="cont_vision.html">Contributors</a></td>
				<td background="art/menu_border.png" align="center">&nbsp;</td>
				<td background="art/menu_border.png" align="right"><a href="pkg_calendar.html"><img src="art/left_arrow.png" width="27" height="24" alt="[Back Page]" border="0"></a><span class="menutext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="pkg_chains.html"><img src="art/right_arrow.png" width="27" height="24" alt="[Next Page]" border="0"></a></td>
				<td background="art/menu_border.png">&nbsp;</td>
</tr></table></td></tr>
	</table>
	<noscript>
	<a href="#submenu">[Jump to Submenu]</a>
	<hr />
	</noscript>
	<table width="100%" border="0" cellspacing="0" cellpadding="0" summary="content and right submenu">
		<tr>
			<td align="left" valign="top">
	<!-- Content Area -->
<h3><a NAME="4.11"></a>Cgi Package</h3>
<p>The SparForte CGI package is based on and uses David A. Wheeler's AdaCGI package.
It provides form processing, string encoding, and cookie operations.</p>

        <center>
        <div class="code">
<pre>
  <a href="#cgi.parsing_errors">parsing_errors</a>             <a href="#cgi.input_received">input_received</a>             <a href="#cgi.is_index">is_index</a>
  <a href="#cgi.cgi_method">cgi_method</a>                 <a href="#cgi.value">value( k, i, b )</a>           <a href="#cgi.key_exists">key_exists( k, i )</a>
  <a href="#cgi.key_count">key_count( k )</a>             <a href="#cgi.argument_count">argument_count</a>             <a href="#cgi.key">key( p )</a>
  <a href="#cgi.key_value_exists">key_value_exists( k, v )</a>   <a href="#cgi.put_cgi_header">put_cgi_header( s )</a>        <a href="#cgi.put_html_head">put_html_head( t, m )</a>
  <a href="#cgi.put_html_heading">put_html_heading( s, p )</a>   <a href="#cgi.put_html_tail">put_html_tail</a>              <a href="#cgi.put_error_message">put_error_message( s )</a>
  <a href="#cgi.my_url">my_url</a>                     <a href="#cgi.put_variables">put_variables</a>              <a href="#cgi.line_count">line_count</a>
  <a href="#cgi.line_count_of_value">line_count_of_value</a>        <a href="#cgi.line">line( v )</a>                  <a href="#cgi.value_of_line">value_of_line( k, p )</a>
  <a href="#cgi.url_decode">url_decode</a>                 <a href="#cgi.url_encode">url_encode( s )</a>            <a href="#cgi.html_encode">html_encode( s )</a>
  <a href="#cgi.set_cookie">set_cookie( k,v,e,p,d,s )</a>  <a href="#cgi.cookie_value">cookie_value( p )</a>          <a href="#cgi.cookie_count">cookie_count</a>
  <a href="#cgi.key_value">s := key_value( p )</a>
</pre>
        &nbsp;<br>
        <div class="code_caption">
        <b>Help Command</b>: Contents of the cgi package
        </div>
        </div>
        </center>

<p>Using the CGI package, programmers can write scripts that run when invoked
by web servers using the Common Gateway Interface (CGI). SparForte's large feature
set and strong error checking make it ideal for writing web server applications.</p>

<p>Some functions will cause standard_input to be read.  Some features of this
package are incompatible with gnat.cgi.</p>

<p>cgi.get_environment is not implemented: it is already available through
the command_line package.</p>

<p>The examples directory contains a script called minimal_cgi, a CGI script
that displays form variables.</p>

        <center>
        <div class="code">
                <p class="code">
<b>procedure</b> minimal_cgi <b>is</b><br>
&nbsp; -- Demonstrate SparForte's CGI interface<br>
&nbsp; -- based on AdaCGI's minimal.adb example<br>
&nbsp;<br>
&nbsp; -- To run this script directly (without a HTTP server), set the<br>
&nbsp;<br>
&nbsp; -- environment variable REQUEST_METHOD to "GET" and the variable<br>
&nbsp; -- QUERY_STRING to either "" or "x=a&amp;y=b".<br>
&nbsp;<br>
<b>begin</b><br>
&nbsp; cgi.put_cgi_header;<br>
&nbsp; cgi.put_html_head( "Minimal Form Demonstration" );<br>
&nbsp; <b>if</b> cgi.input_received <b>then</b><br>
&nbsp;&nbsp;&nbsp;&nbsp; cgi.put_variables;<br>
&nbsp; <b>else</b><br>
&nbsp;&nbsp;&nbsp;&nbsp; put_line( "&lt;form method=" &amp; ASCII.Quotation &amp; "POST" &amp; ASCII.Quotation &amp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "&gt;What's your name?&lt;input name=" &amp; ASCII.Quotation &amp; "username" &amp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASCII.Quotation &amp; "&gt;&lt;input type=" &amp; ASCII.Quotation &amp; "submit" &amp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ASCII.Quotation &amp; "&gt;&lt;/form&gt;" );<br>
&nbsp; <b>end</b> <b>if</b>;<br>
&nbsp; cgi.put_html_tail;<br>
<b>end</b> minimal_cgi;<br>&nbsp;<br>
                </p>
        <div class="code_caption">
                <b>Example</b>: A CGI Package Example
        </div>
        </div>
        </center>

<p>To run it without a web server, define exported strings QUERY_STRING and
REQUEST_METHOD. If there is no information to process (QUERY_STRING is
an empty string) it will return a form, otherwise it will display the value
of the CGI variables.</p>

        <center>
        <div class="code">
                <p class="code">
=&gt; QUERY_STRING : string := ""<br>
=&gt; <b>pragma</b> export( shell, QUERY_STRING )<br>
=&gt; REQUEST_METHOD : string := "GET"<br>
=&gt; <b>pragma</b> export( shell, REQUEST_METHOD )<br>
=&gt; spar examples/minimal_cgi.sp<br>
content_type: text/html<br>
&nbsp;<br>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Minimal Form Demonstration&lt;/title&gt;<br>
&lt;/head&gt;&lt;body&gt;<br>
&lt;form method="POST"&gt;What's your name?&lt;input name="username"&gt;&lt;input type="submit"&gt;&lt;/form&gt;<br>
&lt;/body&gt;&lt;/html&gt;<br>
&nbsp;<br>
=&gt; QUERY_STRING : string := "x=a&amp;y=b"<br>
=&gt; spar examples/minimal_cgi.sp<br>
content_type: text/html<br>
&nbsp;<br>
&lt;html&gt;&lt;head&gt;&lt;title&gt;Minimal Form Demonstration&lt;/title&gt;<br>
&lt;/head&gt;&lt;body&gt;<br>
&lt;pre&gt;<br>
&nbsp;<br>
&lt;b&gt;x&lt;/b&gt;: &lt;i&gt;a&lt;/i&gt;<br>
&lt;b&gt;y&lt;/b&gt;: &lt;i&gt;b&lt;/i&gt;<br>
&lt;/pre&gt;<br>
&nbsp;<br>
&lt;/body&gt;&lt;/html&gt;<br>&nbsp;<br>
                </p>
        <div class="code_caption">
                <b>Example</b>: Running a CGI Script from the Command Line
        </div>
        </div>
        </center>


<p>The CGI package uses the standard Ada types except for one additional enumerated
type:</p>

<ul>
<li>
<b>type</b> cgi.cgi_method_type <b>is</b> (cgi.get, cgi.post, cgi.unknown);
-- the form posting method</li>
</ul>
<p>To use cgi_method_type or its elements, prefix the items with "cgi." as
you would with any other package declaration.</p>

<a name="cgi.argument_count"></a><h3>n := cgi.argument_count</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the total number of variables, including duplicates with the
same name.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">-</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>n</span></td>
<td><span>return value</span></td>
<td><span>natural</span></td>
<td><span>required</span></td>
<td><span>the number of variables</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Argument_Count</p></td>
</tr>
</table>

<a name="cgi.cgi_method"></a><h3>m := cgi.cgi_method</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Identify the CGI standard that was used to communicate with the
script (cgi.get, cgi.post or cgi.unknown).</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">-</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>m</span></td>
<td><span>return value</span></td>
<td><span>cgi.cgi_method_type</span></td>
<td><span>required</span></td>
<td><span>the method</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Cgi_Method</p></td>
</tr>
</table>

<a name="cgi.cookie_count"></a><h3>n := cgi.cookie_count</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the number of cookies.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">for i in 1..cgi.cookie_count loop ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td>none</td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#cgi.cookie_value">cgi.cookie_value</a><br><a href="#cgi.set_cookie">cgi.set_cookie</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Cookie_Count</p></td>
</tr>
</table>

<a name="cgi.cookie_value"></a><h3>s := cgi.cookie_value( c [, p] )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Get the value of p-th instance of cookie c.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">cookie := cgi.cookie_value( "date_visited" );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the cookie value</span></td>
</tr>
<tr>
<td><span>c</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the cookie name</span></td>
</tr>
<tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>1</span></td>
<td><span>the instance of the cookie name</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#cgi.set_cookie">cgi.set_cookie</a><br><a href="#cgi.cookie_count">cgi.cookie_count</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Cookie_Value</p></td>
</tr>
</table>

<a name="cgi.html_encode"></a><h3>h := cgi.html_encode( s )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Encode the string escaping illegal HTML characters. For example, '&gt;'
becomes '&amp;gt;').</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">safe_html := cgi.html_encode( "This is &lt;illegal&gt; HTML!"</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>h</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the HTML-encoded string</span></td>
</tr>
<tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the string to encode</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.HTML_Encode</p></td>
</tr>
</table>

<a name="cgi.input_received"></a><h3>b := cgi.input_received</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>True if there HTTP GET or POST data was received by the script.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">if cgi.input_received then ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if there was input received</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Input_Received</p></td>
</tr>
</table>

<a name="cgi.is_index"></a><h3>b := cgi.is_index</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>True if an "IsIndex" request was made (a request with HTTP GET or
POST data without variable assignments).</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">if cgi.is_index ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if a "IsIndex" request was made</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Is_Index</p></td>
</tr>
</table>

<a name="cgi.key"></a><h3>s := cgi.key( p )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the name of p-th HTTP GET or POST variable.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">first_variable := cgi.key( 1 );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the CGI variable name</span></td>
</tr>
<tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the variable position (1..cgi.argument_count).</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if there is no variable at position p.</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Key</p></td>
</tr>
</table>

<a name="cgi.key_count"></a><h3>n := cgi.key_count( k )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the number of occurrences of the CGI variable (HTML form
input field) in an HTTP request.  (HTML forms may have more than
one input field with the same name.)  If the variable does not exist,
zero is returned.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><p>If the form contains:</p>
<span class="code">&lt;input name="foo" value="bar"&gt;<br>
&lt;input name="foo" value="baz"&gt;<br>
<br>
? cgi.key_count( "foo" ); -- returns 2<br>
</span><br>
</td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>n</span></td>
<td><span>return value</span></td>
<td><span>natural</span></td>
<td><span>required</span></td>
<td><span>the number of occurrences</span></td>
</tr>
<tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the variable to check</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: Cgi.Key_Count</p></td>
</tr>
</table>

<a name="cgi.key_exists"></a><h3>b := cgi.key_exists( k, i )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return true if a HTTP GET or POST variable (a form field) exists
with the given name.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">if cgi.key_exists( "credit_card_expiry_date", 1 ) then ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if the variable exists</span></td>
</tr>
<tr>
<td><span>k</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the variable to check</span></td>
</tr>
<tr>
<td><span>i</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>which variable</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Key_Exists</p></td>
</tr>
</table>

<a name="cgi.key_value"></a><h3>s := cgi.key_value( p )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the value of the p-th HTTP GET or POST variable.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">first_value := cgi.key_value( 1 );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the variable value</span></td>
</tr>
<tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the position of the variable (1..cgi.argument_count)</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>An exception is raised if there is no variable at position p.</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Value (NOTE: a different name)</p></td>
</tr>
</table>

<a name="cgi.key_value_exists"></a><h3>b := cgi.key_value_exists( v, s )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>True if an HTTP GET or POST variable v has a value of s.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">if cgi.key_value_exists( "country", "US" ) then ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if the variable has the value</span></td>
</tr>
<tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the CGI variable</span></td>
</tr>
<tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the value to test for</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Key_Value_Exists</p></td>
</tr>
</table>

<a name="cgi.my_url"></a><h3>s := cgi.my_url</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the URL of the script.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">script_url := cgi.my_url;</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the URL of the script</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.My_URL</p></td>
</tr>
</table>

<a name="cgi.line"></a><h3>l := cgi.line( s, p )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the p-th line of string s.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">second_line := cgi.line( address, 2 );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>l</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the line</span></td>
</tr>
<tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the GET/POST variable value to get the line from</span></td>
</tr>
<tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the line number (1..cgi.line_count).</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>A bad line number raises an exception.</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Line</p></td>
</tr>
</table>

<a name="cgi.line_count"></a><h3>n := cgi.line_count( s )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Count the number of lines is value s, 0 if an empty string.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">if cgi.line_count( address ) &gt; 4 then ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>n</span></td>
<td><span>return value</span></td>
<td><span>natural</span></td>
<td><span>required</span></td>
<td><span>the number of lines (0 if null string)</span></td>
</tr>
<tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the string to test</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Line_Count</p></td>
</tr>
</table>

<a name="cgi.line_count_of_value"></a><h3>n := cgi.line_count_of_value( v )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Count the number of lines in the value of variable v, 0 if an empty</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">-</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>n</span></td>
<td><span>return value</span></td>
<td><span>natural</span></td>
<td><span>required</span></td>
<td><span>the number of lines (0 if null string)</span></td>
</tr>
<tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the CGI variable to test</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Line_Count_Of_Value</p></td>
</tr>
</table>

<a name="cgi.parsing_errors"></a><h3>b := cgi.parsing_errors</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>True if there were errors parsing the data sent with HTTP GET or POST.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">if cgi.parsing_errors then ...</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>b</span></td>
<td><span>return value</span></td>
<td><span>boolean</span></td>
<td><span>required</span></td>
<td><span>true if there were parsing errors</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Parsing_Errors</p></td>
</tr>
</table>

<a name="cgi.put_cgi_header"></a><h3>cgi.put_cgi_header( h )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Write the CGI header to current_output, including two carriage returns.  This header determines the form of the program's reply (by default, an HTML document).  A typical program would first call this function which tells the calling HTTP server what kind of information will be returned. Usually the CGI header is a reply saying "I will reply a generated HTML document", so that is the default of Put_CGI_Header, but you could reply something else (for example, a Location: header to automatically redirect someone to a different URL.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">cgi.put_cgi_header;</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>h</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>Content-type: text/html</span></td>
<td><span>the CGI header to use</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: cgi.put_cgi_header</p></td>
</tr>
</table>

<a name="cgi.put_error_message"></a><h3>cgi.put_error_message( s )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Write a short HTML document containing an error message. Use cgi.put_cgi_header</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">-</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the error message</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Put_Error_Message</p></td>
</tr>
</table>

<a name="cgi.put_html_head"></a><h3>cgi.put_html_head( t, m )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Write a simple HTML header to current_output, including a title and
optional mailto link to the page author.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">-</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>t</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the page title</span></td>
</tr>
<tr>
<td><span>m</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>no mailto</span></td>
<td><span>the email address of the author</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Put_HTML_Head</p></td>
</tr>
</table>

<a name="cgi.put_html_heading"></a><h3>cgi.put_html_heading( s, l )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Write a simple HTML &lt;h1&gt; to &lt;h6&gt; heading.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">cgi.put_html_heading( "OmniCorp Sales Statistics", 1 )</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the heading text</span></td>
</tr>
<tr>
<td><span>l</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the heading level (1..6)</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Put_Html_Heading</p></td>
</tr>
</table>

<a name="cgi.put_html_tail"></a><h3>cgi.put_html_tail</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Complete an HTML document by writing "&lt;/body&gt;&lt;/html&gt;" to current_output.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">cgi.put_html_tail</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td>none</td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Put_HTML_Tail</p></td>
</tr>
</table>

<a name="cgi.put_variables"></a><h3>cgi.put_variables</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Display the HTTP GET or POST variables in HTML format. Use for debugging.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">cgi.put_variables</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td>none</td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Put_Variables</p></td>
</tr>
</table>

<a name="cgi.set_cookie"></a><h3>cgi.set_cookie( v, s, x, p, d, b )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Set a cookie's properties. Call this before Put_CGI_Header.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">cgi.set_cookie( "last_visit", "none" );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the cookie name</span></td>
</tr>
<tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the cookie value</span></td>
</tr>
<tr>
<td><span>x</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>none</span></td>
<td><span>the expiry date</span></td>
</tr>
<tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>PATH_INFO value</span></td>
<td><span>the cookie path</span></td>
</tr>
<tr>
<td><span>d</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>SERVER_NAME value</span></td>
<td><span>the domain value</span></td>
</tr>
<tr>
<td><span>b</span></td>
<td><span>in</span></td>
<td><span>boolean</span></td>
<td><span>false</span></td>
<td><span>true if secure</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#cgi.cookie_count">cgi.cookie_count</a><br><a href="#cgi.cookie_value">cgi.cookie_value</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Set_Cookie</p></td>
</tr>
</table>

<a name="cgi.url_decode"></a><h3>s := cgi.url_decode( u, b )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Certain characters have special significance in URLs and should are
escaped using a %HH hexadecimal format.  This function decodes these
hexadecimal characters, as well as spaces denoted as a '+', returning a
normal string.</p</td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">? cgi.url_decode( "http://localhost/web+page.html" );<br>
-- returns http://localhost/web page.html<br>
</span><br></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the decoded string</span></td>
</tr>
<tr>
<td><span>u</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the URL-encoded string</span></td>
</tr>
<tr>
<td><span>b</span></td>
<td><span>in</span></td>
<td><span>boolean</span></td>
<td><span>true</span></td>
<td><span>translate plus signs to spaces if true</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#cgi.url_encode">cgi.url_encode</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.URL_Decode</p></td>
</tr>
</table>

<a name="cgi.url_encode"></a><h3>u := cgi.url_encode( s, b )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Certain characters have special significance in URLs and should be
escaped using a %HH hexadecimal format.  This function encodes these
characters.  If b is true, translate spaces to plus signs.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">encoded_url := cgi.url_encode( s );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>u</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the URL-encoded string</span></td>
</tr>
<tr>
<td><span>s</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the string to encode</span></td>
</tr>
<tr>
<td><span>b</span></td>
<td><span>in</span></td>
<td><span>boolean</span></td>
<td><span>true</span></td>
<td><span>translate plus signs to spaces if true</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p><a href="#cgi.url_decode">cgi.url_decode</a></p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.URL_Encode</p></td>
</tr>
</table>

<a name="cgi.value"></a><h3>s := cgi.value( v, i, b )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the value of an HTTP GET or POST variable (a form field).
If there are multiple variables with the same name, i will return the
ith value (starting from one).  An exception will be raised when there
is no variable if b is true.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">username := cgi.value( "username" );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>s</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the value of the variable</span></td>
</tr>
<tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the name of the variable</span></td>
</tr>
<tr>
<td><span>i</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>1</span></td>
<td><span>which variable (1 = first)</span></td>
</tr>
<tr>
<td><span>r</span></td>
<td><span>in</span></td>
<td><span>boolean</span></td>
<td><span>false</span></td>
<td><span>raise an exception if missing variable</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>If b is true, an exception is raised if there is no variable.</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Value</p></td>
</tr>
</table>

<a name="cgi.value_of_line"></a><h3>l := cgi.value_of_line( v, p )</h3>
<table cellspacing="0" cellpadding="0" width="98%" summary="package call">
<tr>
<td width="15%">&nbsp;</td>
<td><p>Return the p-th line of the value of CGI variable v.</p></td>
</tr><tr>
<td><p class="pkg_label">Example</p></td>
<td><span class="code">second_line := cgi.line( "address", 2 );</span></td>
</tr><tr>
<td><p class="pkg_label">Parameters</p></td>
<td><table CELLSPACING=0 CELLPADDING=0 WIDTH="100%" border="0" >
<tr>
<td><span class="pkg_param">Param</span></td>
<td><span class="pkg_param">Mode</span></td>
<td><span class="pkg_param">Type</span></td>
<td><span class="pkg_param">Default</span></td>
<td><span class="pkg_param">Description</span></td>
</tr><tr>
<td><span>l</span></td>
<td><span>return value</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the line</span></td>
</tr>
<tr>
<td><span>v</span></td>
<td><span>in</span></td>
<td><span>string</span></td>
<td><span>required</span></td>
<td><span>the CGI variable to get the line from</span></td>
</tr>
<tr>
<td><span>p</span></td>
<td><span>in</span></td>
<td><span>positive</span></td>
<td><span>required</span></td>
<td><span>the line number (1..cgi.line_count).</span></td>
</tr>
</table></td>
</tr><tr>
<td><p class="pkg_label">Exceptions</p></td>
<td><p>A bad line number raises an exception.</p></td>
</tr><tr>
<td><p class="pkg_label">See Also</p></td>
<td><p>-</p></td>
</tr><tr>
<td><p class="pkg_label">Compare With</p></td>
<td><p>Ada: CGI.Value_Of_Line</p></td>
</tr>
</table>
&nbsp;<br>

			</td>
			<td bgcolor="#d3c7f8" width="150" align="right" valign="top"><noscript><hr /></noscript><img src="art/right_menu_top.png" width="150" height="24" alt="[Right Submenu]"><br><a name="submenu"></a>
                                <p class="rmt"><a class="rightmenutext" href="packages.html">&nbsp;Summary</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_arrays.html">&nbsp;arrays</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_btree_io.html">&nbsp;btree_io</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_calendar.html">&nbsp;calendar</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_cgi.html">&nbsp;<b>cgi</b></a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_chains.html">&nbsp;chains</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_cmdline.html">&nbsp;command_line</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_db.html">&nbsp;db/ postgresql</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dbm.html">&nbsp;dbm</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dirops.html">&nbsp;directory_operations</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_doubly.html">&nbsp;doubly_linked...</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_dht.html">&nbsp;dynamic_hash_...</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_enums.html">&nbsp;enums</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_exceptions.html">&nbsp;exceptions</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_files.html">&nbsp;files</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_gnat_cgi.html">&nbsp;gnat.cgi</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_gnat_crc32.html">&nbsp;gnat.crc32</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_hash_io.html">&nbsp;hash_io</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_hmaps.html">&nbsp;hashed_maps</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_l10n.html">&nbsp;l10n</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_lock_files.html">&nbsp;lock_files</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_logs.html">&nbsp;logs</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_memcache.html">&nbsp;memcache</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_memcache_highread.html">&nbsp;memcache.highread</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_mysql.html">&nbsp;mysql</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_mysqlm.html">&nbsp;mysqlm</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_numerics.html">&nbsp;numerics</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_os.html">&nbsp;os</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_pen.html">&nbsp;pen</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_pengl.html">&nbsp;pen (OpenGL)</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_records.html">&nbsp;records</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_sound.html">&nbsp;sound</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_sinfo.html">&nbsp;source_info</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_stats.html">&nbsp;stats</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_strings.html">&nbsp;strings</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_system.html">&nbsp;System</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_teams.html">&nbsp;teams</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_templates.html">&nbsp;templates</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_text_io.html">&nbsp;text_io</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_units.html">&nbsp;units</a></p>
                                <p class="rmt"><a class="rightmenutext" href="pkg_vectors.html">&nbsp;vectors</a></p>
			</td>
		</tr>
		<tr>
			<td bgcolor="#d3c7f8" align="left" valign="middle"><a href="#top"><img src="art/up_arrow.png" border="0" width="24" height="27" alt="[Back to Top]"><span>&nbsp;Back To Top</span></a></td>
			<td bgcolor="#d3c7f8" align="center" valign="middle"><img src="art/forte_small.png" width="26" height="32" border="0" alt="[Small Forte Symbol]"></td>
	       	</tr>

	</table>

</body>
</html>

