<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/transitional.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
        <META NAME="description" CONTENT="SparForte language documentation">
	<title>SparForte - Reference - Bourne Shell Word Expansions</title>
	<link rel="StyleSheet" type="text/css" media="screen" href="art/sparforte.css">
</head>
<body bgcolor="#FFFFFF"><a name="top"></a>
	<table width="100%" cellspacing="0" cellpadding="0" summary="page layout">
		<tr><td align="left"><img src="art/sparforte.png" alt="[SparForte]"></td><td align="right"><img src="art/header_cloud.png" alt="[Banner]"></td></tr>
		<tr><td background="art/header_border.png" height="10" colspan="2"></td></tr>
		<tr><td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="0" summary="top menu">
			<tr>
				<td width="10"><img src="art/menu_left.png" alt="[Top Main Menu]"></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="intro_preface.html">Intro</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="tutorial_1.html">Tutorials</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="ref_adascript.html"><b>Reference</b></a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="packages.html">Packages</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="../examples/index.html">Examples</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="cont_vision.html">Contributors</a></td>
				<td background="art/menu_border.png" align="center">&nbsp;</td>
				<td background="art/menu_border.png" align="right"><a href="ref_literals.html"><img src="art/left_arrow.png" width="27" height="24" alt="[Back Page]" border="0"></a><span class="menutext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="ref_types.html"><img src="art/right_arrow.png" width="27" height="24" alt="[Next Page]" border="0"></a></td>
				<td background="art/menu_border.png">&nbsp;</td>
</tr></table></td></tr>
	</table>
	<noscript>
	<a href="#submenu">[Jump to Submenu]</a>
	<hr />
	</noscript>
	<table width="100%" border="0" cellspacing="0" cellpadding="0" summary="content and right submenu">
		<tr>
			<td align="left" valign="top">
	<!-- Content Area -->
<h2><a name="3.6"></a>Bourne Shell Word Expansions</h2>

<p>SparForte provides a subset of Bourne shell features for convenient use on
the command line.&nbsp; Many new users are already familiar with the
Bourne
shell since it's the standard shell for Linux and FreeBSD.&nbsp; Also,
the AdaScript syntax can be awkward to use for simple interactive
commands.&nbsp; Where the Bourne standard conflicts with Ada SparForte
always favors compatibility with Ada for the sake of the progressive
development model.</p>

<p>Bourne shell arguments consist of groups of characters called
"words".&nbsp; Each word is separated by spaces.&nbsp; SparForte does not
implement the Bourne shell IFS variable.</p>

<p>Argument expansion is the process of performing substitutions on a
Bourne shell word.&nbsp; Argument expansion occurs at run-time since it
depends on the current working directory and the current value of
variables.</p>

<h3>Shell Expansion Coverage</h3>

<p>Bourne shell expansions include:</p>

<br>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2"
 cellspacing="2">
     <tr>
      <td style="vertical-align: top;"><span><b>Expansion</b><br></span>
      </td>
      <td style="vertical-align: top;"><span><b>Before</b></span><br>
      </td>
      <td style="vertical-align: top;"><span><b>After</b></span><br>
      </td>
      <td style="vertical-align: top;"><span><b>SparForte</b></span><br>
      </td>
    </tr>
  <tbody>
    <tr>
      <td style="vertical-align: top;"><span>Brace Expansion</span><br>
      </td>

      <td style="vertical-align: top;"><tt>a.{txt,.dat}</tt><br>
      </td>
      <td style="vertical-align: top;"><tt>a.txt a.dat</tt><br>
      </td>
      <td style="vertical-align: top;"><span>not implemented</span><br>
      </td>
    </tr>

    <tr>
      <td style="vertical-align: top;"><span>Tilde Expansion</span><br>
      </td>
      <td style="vertical-align: top;"><tt>~a/a.txt</tt><br>
      </td>
      <td style="vertical-align: top;"><tt>/home/user/a.txt</tt><br>
      </td>

      <td style="vertical-align: top;"><span>OK</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span>Variable Expansion</span><br>
      </td>
      <td style="vertical-align: top;"><tt>$HOME/a.txt</tt><br>

      </td>
      <td style="vertical-align: top;"><tt>/home/usr/a.txt</tt><br>
      </td>
      <td style="vertical-align: top;"><span>OK</span><br>
      </td>

    </tr>
    <tr>
      <td style="vertical-align: top;"><span>Command Substitution</span><br>

      </td>
      <td style="vertical-align: top;"><tt>`/bin/echo a.txt`</tt><br>
      </td>
      <td style="vertical-align: top;"><tt>a.txt</tt><br>
      </td>
      <td style="vertical-align: top;"><span>Backquotes only</span><br>
      </td>

    </tr>
    <tr>
      <td style="vertical-align: top;"><span>Arithmetic Expansion</span><br>
      </td>
      <td style="vertical-align: top;"><tt>$((2+2))</tt><br>
      </td>
      <td style="vertical-align: top;"><tt>4</tt><br>

      </td>
      <td style="vertical-align: top;"><span>not implemented</span><br>
<span>(use AdaScript parameters)</span><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;"><span>Pathname Expansion</span><br>
      </td>

      <td style="vertical-align: top;"><tt>a.*</tt><br>
      </td>
      <td style="vertical-align: top;"><tt>a.txt a.dat</tt><br>
      </td>
      <td style="vertical-align: top;"><span>OK</span><br>
      </td>
    </tr>

    <tr>
      <td style="vertical-align: top;"><span>Word Splitting</span><br>
      </td>
      <td style="vertical-align: top;"><tt>a\ word</tt><br>
      </td>
      <td style="vertical-align: top;"><tt>"a word"</tt><br>
      </td>

      <td style="vertical-align: top;"><span>OK</span><br>
      </td>
    </tr>
  </tbody>
</table>

<p>There is no brace expansion, arithmetic expansion or process
substitution.&nbsp; Some features support only a subset of the BASH
features.&nbsp; For example, many of the special $ substitutions
(${...}, $(...) and others) are not implemented.&nbsp; Otherwise, the
basic Bourne shell features implemented in SparForte conform to
the POSIX standard.</p>

<h3>Spaces and Dollar Expansions</h3>

<p>Dollar expansions are affected by quotation and the data type of
expansion variable.  If no quotes are used, the leading and trailing
spaces are discarded.  If in single quotes, no dollar expansion
occurs at all.  If double quotes are used, the affect on spaces
depends on the data type.  If the value is numeric, the leading space
for a positive variable is discarded (to mimic shell behaviour) but
other variable types maintain any leading or trailing spaces.</p>

        <center>
        <div class="code">
                <p class="code">=&gt; s : string := " hello "<br>
=&gt; put_line( s )<br>
 hello <br>
=&gt; echo $s<br>
hello<br>
=&gt; echo "$s"<br>
&nbsp;hello&nbsp;<br>
=&gt; echo '$s'<br>
$s<br>
=&gt; echo `pwd;`"$s"<br>
/home/ken/ada/SparForte/src hello&nbsp;<br>
=&gt; t : string<br>
=&gt; t := `echo $s;`<br>
=&gt; <b>env</b> t<br>
t := "hello"; -- identifier of the type string<br>
=&gt; t := `echo "$s";`<br>
=&gt; <b>env</b> t<br>
t := " hello "; -- identifier of the type string<br>

=&gt; i : integer := 5<br>
=&gt; put_line( i )<br>
&nbsp;5<br>
=&gt; echo $i<br>
5<br>
=&gt; echo "$i"<br>
5<br>&nbsp;<br>
               </p>
        <div class="code_caption">
                <b>Example</b>: The leading/trailing space is affected by quotations and variable type
        </div>
        </div>
        </center>


<br>&nbsp;

			</td>
			<td bgcolor="#d3c7f8" width="150" align="right" valign="top"><noscript><hr /></noscript><img src="art/right_menu_top.png" width="150" height="24" alt="[Right Submenu]"><br><a name="submenu"></a>
                                <p class="rmt"><a class="rightmenutext" href="ref_adascript.html">&nbsp;AdaScript versus GCC</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_case.html">&nbsp;Case Sensitivity</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_reserved.html">&nbsp;Reserved Words</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_comments.html">&nbsp;Comments</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_literals.html">&nbsp;Literals</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_shellargs.html">&nbsp;<b>Bourne Shell Word Expansions</b></a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_types.html">&nbsp;Fundamental Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_typedecl.html">&nbsp;User-defined Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_enum.html">&nbsp;Enumerated Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_arrays.html">&nbsp;Arrays</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_records.html">&nbsp;Records</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_assign.html">&nbsp;Basic Assignment</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_specials.html">&nbsp;The @ and % Operands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdlineargs.html">&nbsp;Command Argument Shortcuts</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_redirection.html">&nbsp;Redirection and Pipelines</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdline.html">&nbsp;Command Line Interaction</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_shellcmds.html">&nbsp;Built-in Shell Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cd.html">&nbsp;The Current Directory</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_db.html">&nbsp;Database Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_flow.html">&nbsp;Flow of Control</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_other.html">&nbsp;Other Statements/ Subprograms</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_extcmds.html">&nbsp;External Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_subprograms.html">&nbsp;Block Statements and Subprograms</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_sockets.html">&nbsp;TCP/IP Sockets</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_numberformat.html">&nbsp;Numeric Formatting with Put</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_pragmas.html">&nbsp;Interpreter Directives</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdoptions.html">&nbsp;Command Line Options</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdref.html">&nbsp;Command Reference</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_charsets.html">&nbsp;ASCII and Latin_1 Character Sets</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_errors.html">&nbsp;Common Error Messages</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_php.html">&nbsp;Common PHP Functions and the SparForte Equivalent</a></p>
			</td>

		</tr>
		<tr>
			<td bgcolor="#d3c7f8" align="left" valign="middle"><a href="#top"><img src="art/up_arrow.png" width="24" height="27" alt="[Back to Top]"><span>&nbsp;Back To Top</span></a></td>
			<td bgcolor="#d3c7f8" align="center" valign="middle"><img src="art/forte_small.png" width="26" height="32" border="0" alt="[Small Forte Symbol]"></td>
	       	</tr>

	</table>

</body>
</html>

