<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/transitional.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="description" CONTENT="SparForte language documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SparForte - Reference - Ifs and Loops (Flow of Control)</title>
	<link rel="StyleSheet" type="text/css" media="screen" href="art/sparforte.css">
</head>
<body bgcolor="#FFFFFF"><a name="top"></a>
	<table width="100%" cellspacing="0" cellpadding="0" summary="page layout">
		<tr><td align="left"><img src="art/sparforte.png" alt="[SparForte]"></td><td align="right"><img src="art/header_cloud.png" alt="[Banner]"></td></tr>
		<tr><td background="art/header_border.png" height="10" colspan="2"></td></tr>
		<tr><td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="0" summary="top menu">
			<tr>
				<td width="10"><img src="art/menu_left.png" alt="[Top Main Menu]"></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="intro_preface.html">Intro</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="tutorial_1.html">Tutorials</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="ref_adascript.html"><b>Reference</b></a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="packages.html">Packages</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="../examples/index.html">Examples</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="cont_vision.html">Contributors</a></td>
				<td background="art/menu_border.png" align="center">&nbsp;</td>
				<td background="art/menu_border.png" align="right"><a href="ref_db.html"><img src="art/left_arrow.png" width="27" height="24" alt="[Back Page]" border="0"></a><span class="menutext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="ref_other.html"><img src="art/right_arrow.png" width="27" height="24" alt="[Next Page]" border="0"></a></td>
				<td background="art/menu_border.png">&nbsp;</td>
</tr></table></td></tr>
	</table>
	<noscript>
	<a href="#submenu">[Jump to Submenu]</a>
	<hr />
	</noscript>
	<table width="100%" border="0" cellspacing="0" cellpadding="0" summary="content and right submenu">
		<tr>
			<td align="left" valign="top">
	<!-- Content Area -->
<h2><a name="3.20"></a>Ifs and Loops (Flow of Control)</h2>

<h3>The If Statement</h3>

<p>if statements are used for conditional branching.</p>

        <center>
        <div class="code">
                <p class="code">
<b>if</b> x &gt; y <b>then</b><br>
&nbsp;&nbsp; put_line( "x is greater than y" );<br>
<b>elsif</b> x = y <b>then</b><br>
&nbsp;&nbsp; put_line( x is equal to y" );<br>
<b>else</b><br>
&nbsp;&nbsp; put_line( x is less than y" );<br>
<b>end</b> <b>if</b>;
<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: The If Statement
        </div>
        </div>
        </center>

<h3>The Case Statement</h3>

<p>The case statement can test a variable for several different values.
</p>

        <center>
        <div class="code">
                <p class="code">
<b>type</b> country <b>is</b> ( australia, u_k, brazil );<br>
c : country;<br>
...<br>
<b>case</b> c <b>is</b><br>
<b>when</b> austraila =&gt;<br>
&nbsp;&nbsp; put_line( "Australia" );<br>
<b>when</b> u_k =&gt;<br>
&nbsp;&nbsp; put_line( "United Kingdom" );<br>
<b>when</b> brazil =&gt;<br>
&nbsp;&nbsp; put_line( "Brazil" );<br>
<b>when</b> others =&gt;<br>
&nbsp;&nbsp; put_line( "Unexpected country" );<br>
<b>end</b> <b>case</b>;</p>
<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: The Case Statement
        </div>
        </div>
        </center>

<p>Multiple tests can be strung together using a vertical bar (|).</p>

        <center>
        <div class="code">
                <p class="code"><b>when</b> brazil | u_k =&gt; -- brazil or U.K.</p>
        </div>
        </center>

<p>The "when" cases must not be variables (although constants are OK).
The "when others" case is always required.  You can create a do nothing
case by using the <tt>null</tt> statement.</p>

<p><b>Ada</b>: The when others clause is optional in Ada.  It's required
in SparForte.</p>

<h3>The Case Statement: Multiple Cases</h3>

<p>SparForte case statements can have more than one case identifier.
Each one must match in the when clause for the corresponding statements
to run.</p>

        <center>
        <div class="code">
                <p class="code">
<b>type</b> countries <b>is</b> ( canada, brazil );<br>
<b>type</b> languages <b>is</b> ( english, french );<br>
country : countries;<br>
language : languages;<br>
...<br>
<b>case</b> country, language <b>is</b><br>
<b>when</b> canada, english =&gt;<br>
&nbsp;&nbsp; put_line( "Canadian English" );<br>
<b>when</b> canada, french =&gt;<br>
&nbsp;&nbsp; put_line( "Canadian French" );<br>
<b>when</b> brazil, &lt;&gt; =&gt;<br>
&nbsp;&nbsp; put_line( "Brazillian Portugeuse" );<br>
<b>when</b> others =&gt;<br>
&nbsp;&nbsp; put_line( "Unexpected country and language" );<br>
<b>end</b> <b>case</b>;</p>
<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: The Case Statement with Multiple Cases
        </div>
        </div>
        </center>

<p>The box symbol (&lt;&gt;) can be used as a wildcard to match anything,
ignoring the value of that case identifier.  In the example above,
we assume that everyone in Brazil speaks Portugeuse.</p>

<p><b>Ada</b>: pragma ada_95 does not allow multiple cases identifiers.</p>

<p><b>Implementation Note</b>: The case in statement is experimental and the box symbol may change in the next version of SparForte.</p>

<h3>The Case In Statement</h3>

<p>The case in statement implements business decision tables.
There is a list of variables to test after "in" and a list of variables
to update after "out".  Each when has a list of values corresponding to
the "in" list.  Each value must match for the list of expressions after
the "=&gt;" to run.</p>

<p>This version of the case statement is especially useful when
creating lookup tables as commonly used in business programming.</p>

        <center>
        <div class="code">
                <p class="code">
<b>type</b> a_customer_loyalty <b>is</b> (recent, loyal);<br>
<b>type</b> a_outage_duration <b>is</b> (short, long);<br>
<b>type</b> a_rebate <b>is</b> (none, small, medium, large);<br>
<br>
customer_loyalty : <b>limited</b> a_customer_loyalty := recent;<br>
outage_duration  : <b>limited</b> a_outage_duration := long;<br>
rebate           : a_rebate;<br>
<br>
<b>case</b> <b>in</b> customer_loyalty, outage_duration <b>out</b> rebate <b>is</b><br>
&nbsp;&nbsp;&nbsp;<b>when</b> recent,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; short&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt;&nbsp;&nbsp;small;<br>
&nbsp;&nbsp;&nbsp;<b>when</b> recent,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt;&nbsp;&nbsp;medium;<br>
&nbsp;&nbsp;&nbsp;<b>when</b> loyal,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; short&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt;&nbsp;&nbsp;medium;<br>
&nbsp;&nbsp;&nbsp;<b>when</b> loyal,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; long&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt;&nbsp;&nbsp;large;<br>
&nbsp;&nbsp;&nbsp;<b>when</b> <b>others</b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&gt;&nbsp;&nbsp;none;<br>
<b>end</b> <b>case</b>;<br>
<br>
? "rebate is " @  rebate;<br>
        <div class="code_caption">
                <b>Example</b>: The Case In Statement
        </div>
        </div>
        </center>

<p>Out identifiers must be previously declared (they will not be automatically
declared if new).  Out identifiers cannot be commands, exceptions, arrays or
records.</p>

<p><b>Ada</b>: The case in statement is not allowed with pragma ada_95.</p>

<p><b>Implementation Note</b>: The case in statement is experimental and will likely change in the next version of SparForte.</p>

<h3>The While Loop Statement</h3>

<p>The while loop is a pre-test loop.&nbsp; The commands in the loop
are
repeat while the condition is true and the condition is tested each
time
the first line of the loop is executed.</p>

        <center>
        <div class="code">
                <p class="code">
<b>while</b> x &lt; y <b>loop</b><br>
&nbsp; x := @ + 1;<br>
<b>end</b> <b>loop</b>;<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: The While Statement
        </div>
        </div>
        </center>

<h3>The For Loop Statement</h3>

<p>The for loop increments its index variable by 1 until it iterates
through the specified range.  The range can either be numeric
or enumerated.</p>

<p>The index identifier is automatically
declared for you and only exists for the scope of the loop.&nbsp;
The index identifier is declared as a constant: you cannot assign a
new value to it inside of the loop.  (However, it can be changed at
a breakout prompt for debugging purposes.)</p>

        <center>
        <div class="code">
                <p class="code">
<b>for</b> i <b>in</b> 1..10 <b>loop</b><br>
&nbsp; put( "i is " );<br>
&nbsp; put_line( i );<br>
<b>end</b> <b>loop</b>;<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: The For Statement
        </div>
        </div>
        </center>

<p>To loop through values in the reverse order, use "in reverse" instead of "in".
</p>

<h3>The Exit Statement</h3>

<p>Any loop can be exited by using either an exit statement or an "exit
when" shorthand.
</p>

        <center>
        <div class="code">
                <p class="code">
<b>if</b> x &gt; 100 <b>then</b><br>
&nbsp; <b>exit</b>;<br>
<b>end</b> <b>if</b>;</p>
&nbsp;<br>
<b>exit</b> <b>when</b> x &gt; 100;<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: Examples of the Exit Statement
        </div>
        </div>
        </center>

<h3>The Loop Loop Statement</h3>

<p>A "loop" loop is a general purpose loop. It can only be exited with
"exit".
</p>

        <center>
        <div class="code">
                <p class="code">
<b>loop</b><br>
&nbsp; reply := get_line;<br>
&nbsp; <b>exit</b> <b>when</b> reply = "exit";<br>
<b>end</b> <b>loop</b>;<br>&nbsp;<br></p>
        <div class="code_caption">
                <b>Example</b>: The Loop Statement
        </div>
        </div>
        </center>

<br>
&nbsp;
</p>

			</td>
			<td bgcolor="#d3c7f8" width="150" align="right" valign="top"><noscript><hr /></noscript><img src="art/right_menu_top.png" width="150" height="24" alt="[Right Submenu]"><br><a name="submenu"></a>
                                <p class="rmt"><a class="rightmenutext" href="ref_adascript.html">&nbsp;AdaScript versus GCC</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_case.html">&nbsp;Case Sensitivity</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_reserved.html">&nbsp;Reserved Words</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_comments.html">&nbsp;Comments</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_literals.html">&nbsp;Literals</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_shellargs.html">&nbsp;Bourne Shell Word Expansions</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_types.html">&nbsp;Fundamental Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_typedecl.html">&nbsp;User-defined Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_enum.html">&nbsp;Enumerated Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_arrays.html">&nbsp;Arrays</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_records.html">&nbsp;Records</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_assign.html">&nbsp;Basic Assignment</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_specials.html">&nbsp;The @ and % Operands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdlineargs.html">&nbsp;Command Argument Shortcuts</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_redirection.html">&nbsp;Redirection and Pipelines</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdline.html">&nbsp;Command Line Interaction</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_shellcmds.html">&nbsp;Built-in Shell Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cd.html">&nbsp;The Current Directory</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_db.html">&nbsp;Database Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_flow.html">&nbsp;<b>Ifs and Loops</b></a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_other.html">&nbsp;Other Statements/ Subprograms</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_extcmds.html">&nbsp;External Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_subprograms.html">&nbsp;Block Statements and Subprograms</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_sockets.html">&nbsp;TCP/IP Sockets</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_numberformat.html">&nbsp;Numeric Formatting with Put</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_pragmas.html">&nbsp;Interpreter Directives</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdoptions.html">&nbsp;Command Line Options</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_cmdref.html">&nbsp;Command Reference</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_charsets.html">&nbsp;ASCII and Latin_1 Character Sets</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_errors.html">&nbsp;Common Error Messages</a></p>
                                <p class="rmt"><a class="rightmenutext" href="ref_php.html">&nbsp;Common PHP Functions and the SparForte Equivalent</a></p>
			</td>

		</tr>
		<tr>
			<td bgcolor="#d3c7f8" align="left" valign="middle"><a href="#top"><img src="art/up_arrow.png" width="24" height="27" border="0" alt="[Back to Top]"><span>&nbsp;Back To Top</span></a></td>
			<td bgcolor="#d3c7f8" align="center" valign="middle"><img src="art/forte_small.png" width="26" height="32" border="0" alt="[Small Forte Symbol]"></td>
	       	</tr>

	</table>

</body>
</html>

