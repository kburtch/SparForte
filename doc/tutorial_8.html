<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
  "http://www.w3.org/TR/html4/transitional.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="description" CONTENT="SparForte language documentation">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SparForte - Tutorials - GCC Tutorial: Compiling SparForte Scripts</title>
        <link rel="StyleSheet" type="text/css" media="screen" href="art/sparforte.css">
</head>
<body bgcolor="#FFFFFF"><a name="top"></a>
	<table width="100%" cellspacing="0" cellpadding="0" summary="page layout">
		<tr><td align="left"><img src="art/sparforte.png" alt="[SparForte]"></td><td align="right"><img src="art/header_cloud.png" alt="[Banner]"></td></tr>
		<tr><td background="art/header_border.png" height="10" colspan="2"></td></tr>
		<tr><td colspan="2"><table width="100%" border="0" cellspacing="0" cellpadding="0" summary="top menu">
			<tr>
				<td width="10"><img src="art/menu_left.png" alt="[Top Main Menu]"></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="intro_preface.html">Intro</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="tutorial_1.html"><b>Tutorials</b></a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="ref_adascript.html">Reference</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="packages.html">Packages</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="../examples/index.html">Examples</a></td>
				<td background="art/menu_border.png" align="center"><span class="menutext">|</span></td>
				<td width="85" background="art/menu_border.png" align="center"><a class="menutext" href="cont_vision.html">Contributors</a></td>
				<td background="art/menu_border.png" align="center">&nbsp;</td>
				<td background="art/menu_border.png" align="right"><a href="tutorial_7.html"><img src="art/left_arrow.png" width="27" height="24" alt="[Back Page]" border="0"></a><span class="menutext">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="tutorial_9.html"><img src="art/right_arrow.png" width="27" height="24" alt="[Next Page]" border="0"></a></td>
				<td background="art/menu_border.png">&nbsp;</td>
</tr></table></td></tr>
	</table>
	<noscript>
	<a href="#submenu">[Jump to Submenu]</a>
	<hr />
	</noscript>
	<table width="100%" border="0" cellspacing="0" cellpadding="0" summary="content and right submenu">
		<tr>
			<td align="left" valign="top">
				<!-- Content Area -->

<h2><a name="2.8"></a>GCC Tutorial: Compiling SparForte Scripts</h2>

<p>Complete instructions for converting a SparForte AdaScript script
into Ada and compiling it with GCC is beyond the scope of this manual.
However, here's are some tips.</p>

<h3>Getting GCC Ada/GNAT</h3>

<p>GCC Ada is available for most version of Linux.  If you need to,
you can compile GCC from sources and activate Ada support.  AdaCore,
the company responsible for GCC Ada, also as a standalone GPL version
and commercial versions available from their web site.  Likewise,
there are other Ada compiler vendors for other operating systems.</p>

<h3>Minimize the Differences</h3>

<p>AdaScript is not completely compatible with Ada 2005 because Ada 2005
was
never designed as a language for writing scripts.&nbsp; Changes must be
made to your script, but the changes should be minimal and easily made.

</p>
<p>First, compile your script with the <b>pragma ada_95</b>
directive.&nbsp;
This will report most non-Ada features as an error.&nbsp; pragma
ada_95
disallows the following in scripts:
</p>
<ul>
  <li>use of @ - use the full variable name instead</li>
  <li>use of % - use an intermediate variable</li>

  <li>mixed boolean operators - that is, mixing "and", "or" and "xor"
without
parentheses</li>
  <li>universal types - convert to specific types and use type casting
where
necessary</li>
  <li>command types - using constant strings</li>
  <li>? - use put_line</li>
  <li>pipelines - separate into individual commands and use I/O
redirection</li>
  <li>use of return to return status codes - use the command_line
package</li>

  <li>Bourne shell parameters on external commands - use AdaScript
syntax
instead</li>
</ul>

<h3>Use a Main Procedure</h3>

<p>Second, make sure your script is contained in a <b>procedure block </b>(see
"script structure" below).</p>

<h3>Deal with External Commands</h3>

<p>Third, <b>external commands</b> will have to be rewritten as Ada
procedures
or calls to GNAT.OS_Lib.Spawn or the POSIX system() call.&nbsp;
You
will have to import system() to use it.
</p>

<h3>Final Steps</h3>

<p>There are still differences you may encounter such as the package
names for certain functions, incompatibility with string types, use
of with/use statements, or Ada attributes.</p>

<p>To test your script, compile the script.&nbsp; To generate
Java
byte code to run on a Java Virtual Machine, use the JGNAT compiler
instead
of GNAT.  Or use A# to generate .NET code.</p>

<p>To learn more about GCC Ada, read
<a href="http://www.pegasoft.ca/resources/boblap/book.html">The Big Online Book of Linux Ada Programming</a>.
</p>

<h3>Study Questions</h3>
<ol>
<li>Name non-Ada 95 features that "pragma ada_95" doesn't disable.</li>
</ol>
&nbsp;<br />

			</td>
			<td bgcolor="#d3c7f8" width="150" align="right" valign="top"><noscript><hr /></noscript><img src="art/right_menu_top.png" width="150" height="24" alt="[Right Submenu]"><br><a name="submenu"></a>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_1.html">&nbsp;Command Prompt Tutorial 1: SparForte as a Calculator</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_2.html">&nbsp;Command Prompt Tutorial 2: Basic Shell Commands</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_3.html">&nbsp;Command Prompt Tutorial 3: Working with Databases</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_4.html">&nbsp;Script Tutorial 1: Basic Commands Scripts</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_5.html">&nbsp;Script Tutorial 2: Intermediate Program Scripts</a></p>
				<p class="rmt"><a class="rightmenutext" href="tutorial_14.html">&nbsp;Script Tutorial 3: Data Types</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_6.html">&nbsp;Template Tutorial 1: Basic Templates</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_7.html">&nbsp;Template Tutorial 2: Intermediate Templates</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_8.html">&nbsp;<b>GCC Tutorial: Compiling SparForte Scripts</b></a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_9.html">&nbsp;Debugging Tutorial - Using the SparForte Debugger</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_10.html">&nbsp;Creating a Profile Script</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_11.html">&nbsp;Calling SparForte from C: A Tutorial</a></p>
				<p class="rmt"><a class="rightmenutext" href="tutorial_13.html">&nbsp;SparForte For PHP Developers</a></p>
                                <p class="rmt"><a class="rightmenutext" href="tutorial_12.html">&nbsp;SparForte Best Practices</a></p>
			</td>
		</tr>
		<tr>
			<td bgcolor="#d3c7f8" align="left" valign="middle"><a href="#top"><img src="art/up_arrow.png" width="24" height="27" border="0" alt="[Back to Top]"><span>&nbsp;Back To Top</span></a></td>
			<td bgcolor="#d3c7f8" align="center" valign="middle"><img src="art/forte_small.png" width="26" height="32" border="0" alt="[Small Forte Symbol]"></td>
	       	</tr>

	</table>

</body>
</html>
